server {
            listen  80;
            server_name  EliteBox;

            root   <wwwDir>;
            index index.php index.html;        
  
            auth_basic_user_file <ngConf>/.passwd;                               
            
            location /RPC.<usernamevar> {
               auth_basic 'ruTorrent';
               include    scgi_params;
               scgi_pass  localhost:5000;
            }
            
           location ~ \.php$ {                                
                fastcgi_split_path_info ^(.+\.php)(/.+)$; 
                try_files $uri $uri/ =404; 
                fastcgi_pass unix:/var/run/php5-fpm.sock;
                fastcgi_param   SCRIPT_FILENAME    $document_root$fastcgi_script_name;
                fastcgi_param   SCRIPT_NAME        $fastcgi_script_name;
                fastcgi_index index.php;
                include fastcgi_params;
            }
           
            location ~ /\.ht {
                deny  all;
            } 
}

  server {
            listen 443;
            server_name EliteBox;

            ssl on;            
            ssl_certificate <ngSsl>/rutorrent.crt;
            ssl_certificate_key <ngSsl>/rutorrent.key;
                      
            root <wwwDir>;
            index index.php index.html;

            auth_basic_user_file <ngConf>/.passwd;

            location /RPC.<usernamevar> {
                auth_basic 'ruTorrent';
                include    scgi_params;
                scgi_pass  localhost:5000;
            }

            location ~ \.php$ {                
                fastcgi_split_path_info ^(.+\.php)(/.+)$; 
                try_files $uri $uri/ =404; 
                fastcgi_pass unix:/var/run/php5-fpm.sock;
                fastcgi_param   SCRIPT_FILENAME    $document_root$fastcgi_script_name;
                fastcgi_param   SCRIPT_NAME        $fastcgi_script_name;
                fastcgi_index index.php;
                include fastcgi_params;
            }

            location ~ /\.ht {
                deny  all;
            }
  }

